parcelRequire=function(e,r,n,t){var i="function"==typeof parcelRequire&&parcelRequire,o="function"==typeof require&&require;function u(n,t){if(!r[n]){if(!e[n]){var f="function"==typeof parcelRequire&&parcelRequire;if(!t&&f)return f(n,!0);if(i)return i(n,!0);if(o&&"string"==typeof n)return o(n);var c=new Error("Cannot find module '"+n+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[n][1][r]||r},p.cache={};var l=r[n]=new u.Module(n);e[n][0].call(l.exports,p,l,l.exports,this)}return r[n].exports;function p(e){return u(p.resolve(e))}}u.isParcelRequire=!0,u.Module=function(e){this.id=e,this.bundle=u,this.exports={}},u.modules=e,u.cache=r,u.parent=i,u.register=function(r,n){e[r]=[function(e,r){r.exports=n},{}]};for(var f=0;f<n.length;f++)u(n[f]);if(n.length){var c=u(n[n.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=c:"function"==typeof define&&define.amd?define(function(){return c}):t&&(this[t]=c)}return u}({"yclZ":[function(require,module,exports) {

},{}],"IZP3":[function(require,module,exports) {
"use strict";function e(e){var t=e.player,r=e.bombs;return[t].concat(r)}function t(e,t,r){return{previous:{x:e,y:t},position:{x:e,y:t},radius:4,sprite:r,grounded:!1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getPhysicsObjects=e,exports.createPhysicsObject=t;
},{}],"l0ul":[function(require,module,exports) {
function o(o,d,e){return o==o&&(void 0!==e&&(o=o<=e?o:e),void 0!==d&&(o=o>=d?o:d)),o}module.exports=o;
},{}],"u9vI":[function(require,module,exports) {
function n(n){var o=typeof n;return null!=n&&("object"==o||"function"==o)}module.exports=n;
},{}],"j3D9":[function(require,module,exports) {
var global = arguments[3];
var e=arguments[3],t="object"==typeof e&&e&&e.Object===Object&&e;module.exports=t;
},{}],"MIhM":[function(require,module,exports) {
var e=require("./_freeGlobal"),t="object"==typeof self&&self&&self.Object===Object&&self,l=e||t||Function("return this")();module.exports=l;
},{"./_freeGlobal":"j3D9"}],"wppe":[function(require,module,exports) {
var o=require("./_root"),r=o.Symbol;module.exports=r;
},{"./_root":"MIhM"}],"uiOY":[function(require,module,exports) {
var r=require("./_Symbol"),t=Object.prototype,e=t.hasOwnProperty,o=t.toString,a=r?r.toStringTag:void 0;function l(r){var t=e.call(r,a),l=r[a];try{r[a]=void 0;var c=!0}catch(n){}var i=o.call(r);return c&&(t?r[a]=l:delete r[a]),i}module.exports=l;
},{"./_Symbol":"wppe"}],"lPmd":[function(require,module,exports) {
var t=Object.prototype,o=t.toString;function r(t){return o.call(t)}module.exports=r;
},{}],"e5TX":[function(require,module,exports) {
var e=require("./_Symbol"),r=require("./_getRawTag"),o=require("./_objectToString"),t="[object Null]",i="[object Undefined]",n=e?e.toStringTag:void 0;function u(e){return null==e?void 0===e?i:t:n&&n in Object(e)?r(e):o(e)}module.exports=u;
},{"./_Symbol":"wppe","./_getRawTag":"uiOY","./_objectToString":"lPmd"}],"OuyB":[function(require,module,exports) {
function e(e){return null!=e&&"object"==typeof e}module.exports=e;
},{}],"bgO7":[function(require,module,exports) {
var e=require("./_baseGetTag"),r=require("./isObjectLike"),o="[object Symbol]";function t(t){return"symbol"==typeof t||r(t)&&e(t)==o}module.exports=t;
},{"./_baseGetTag":"e5TX","./isObjectLike":"OuyB"}],"iS0Z":[function(require,module,exports) {
var e=require("./isObject"),r=require("./isSymbol"),t=NaN,i=/^\s+|\s+$/g,f=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,n=/^0o[0-7]+$/i,s=parseInt;function a(a){if("number"==typeof a)return a;if(r(a))return t;if(e(a)){var o="function"==typeof a.valueOf?a.valueOf():a;a=e(o)?o+"":o}if("string"!=typeof a)return 0===a?a:+a;a=a.replace(i,"");var l=u.test(a);return l||n.test(a)?s(a.slice(2),l?2:8):f.test(a)?t:+a}module.exports=a;
},{"./isObject":"u9vI","./isSymbol":"bgO7"}],"Jqm6":[function(require,module,exports) {
var e=require("./_baseClamp"),r=require("./toNumber");function o(o,i,u){return void 0===u&&(u=i,i=void 0),void 0!==u&&(u=(u=r(u))==u?u:0),void 0!==i&&(i=(i=r(i))==i?i:0),e(r(o),i,u)}module.exports=o;
},{"./_baseClamp":"l0ul","./toNumber":"iS0Z"}],"gGJU":[function(require,module,exports) {
function n(n){return null==n}module.exports=n;
},{}],"CE5M":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var r=["rgb(246,214,189)","rgb(195,163,138)","rgb(153,117,119)","rgb(129,98,113)","rgb(78,73,95)","rgb(32,57,79)","rgb(15,42,63)","rgb(8,20,30)"],e=[[246,214,189],[195,163,138],[153,117,119],[129,98,113],[78,73,95],[32,57,79],[15,42,63],[8,20,30]],t={rgb:function(e){return r[e%r.length]},triplet:function(r){return e[r%e.length]},lookup:function(r){for(var t=0;t<e.length;t++){var n=e[t];if(n[0]===r[0]&&n[1]===r[1]&&n[2]===r[2])return t}}},n=t;exports.default=n;
},{}],"cSDk":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={0:["  3333  "," 333333 ","33333333","33333333","33333333","33333333"," 333333 ","  3333  "],1:["5       ","65      ","465     ","3465    ","3465    ","465     ","65      ","5       "],2:["  6666  "," 664466 ","66644666","66644666","66644666","66666666"," 664466 ","  6666  "],3:["  4444  "," 442244 ","44422444","44422444","44422444","44444444"," 442244 ","  4444  "]},t=e;exports.default=t;
},{}],"HEkL":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e={"<":[0,0,1,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0],">":[1,0,0,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0],"/":[0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,0,0,0],":":[0,0,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],"|":[0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],"(":[0,1,1,0,1,0,1,0,0,1,0,0],")":[1,0,0,1,0,1,0,1,1,0,0,0],0:[0,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],1:[1,1,0,0,1,0,0,1,0,0,1,0,1,1,1,0,0,0],2:[1,1,1,0,0,1,1,1,1,1,0,0,1,1,1,0,0,0],3:[1,1,1,0,0,1,0,1,1,0,0,1,1,1,1,0,0,0],4:[1,0,1,1,0,1,1,1,1,0,0,1,0,0,1,0,0,0],5:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0],6:[1,0,0,1,0,0,1,1,1,1,0,1,1,1,1,0,0,0],7:[1,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0],8:[1,1,1,1,0,1,1,1,1,1,0,1,1,1,1,0,0,0],9:[1,1,1,1,0,1,1,1,1,0,0,1,0,0,1,0,0,0]," ":[0,0,0,0,0,0,0,0,0,0,0,0],".":[0,0,0,0,1,0],",":[0,0,0,0,1,1],"+":[0,0,0,0,1,0,1,1,1,0,1,0,0,0,0,0,0,0],"-":[0,0,0,0,0,0,1,1,1,0,0,0,0,0,0,0,0,0],"!":[1,1,1,0,1,0],"?":[1,1,0,1,1,1,0,0,1,0,0,0],a:[1,1,1,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0],b:[1,1,0,1,0,1,1,1,0,1,0,1,1,1,1,0,0,0],c:[1,1,1,1,0,0,1,0,0,1,0,0,1,1,1,0,0,0],d:[1,1,0,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],e:[1,1,1,1,0,0,1,1,1,1,0,0,1,1,1,0,0,0],f:[1,1,1,1,0,0,1,1,1,1,0,0,1,0,0,0,0,0],g:[1,1,1,1,0,0,1,0,1,1,0,1,1,1,1,0,0,0],h:[1,0,1,1,0,1,1,1,1,1,0,1,1,0,1,0,0,0],i:[1,1,1,0,1,0,0,1,0,0,1,0,1,1,1,0,0,0],j:[0,0,1,0,0,1,0,0,1,1,0,1,1,1,1,0,0,0],k:[1,0,1,1,0,1,1,1,0,1,0,1,1,0,1,0,0,0],l:[1,0,0,1,0,0,1,0,0,1,0,0,1,1,1,0,0,0],m:[1,0,1,1,1,1,1,1,1,1,0,1,1,0,1,0,0,0],n:[1,1,1,1,0,1,1,0,1,1,0,1,1,0,1,0,0,0],o:[1,1,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],p:[1,1,1,1,0,1,1,1,1,1,0,0,1,0,0,0,0,0],q:[1,1,1,1,0,1,1,0,1,1,0,1,0,1,1,0,0,0],r:[1,1,1,1,0,1,1,1,0,1,0,1,1,0,1,0,0,0],s:[1,1,1,1,0,0,1,1,1,0,0,1,1,1,1,0,0,0],t:[1,1,1,0,1,0,0,1,0,0,1,0,0,1,0,0,0,0],u:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,1,0,0,0],v:[1,0,1,1,0,1,1,0,1,1,0,1,1,1,0,0,0,0],w:[1,0,1,1,0,1,1,1,1,1,1,1,1,0,1,0,0,0],x:[1,0,1,1,0,1,0,1,0,1,0,1,1,0,1,0,0,0],y:[1,0,1,1,0,1,1,1,1,0,0,1,1,1,1,0,0,0],z:[1,1,1,0,0,1,0,1,0,1,0,0,1,1,1,0,0,0]},t=e;exports.default=t;
},{}],"OEhm":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var e=r(require("./colors.js")),t=r(require("./alphabet.js"));function r(e){return e&&e.__esModule?e:{default:e}}function n(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){o(e,t,r[t])})}return e}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return u(e)||f(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function f(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,r=new Array(e.length);t<e.length;t++)r[t]=e[t];return r}}var c=function(r){var o=r.x,a=r.y,f=r.letters,u=r.c,c=r.ctx,l=e.default.triplet(u);f.toString().split("").map(function(e){var r=t.default[e.toLowerCase()];return{width:r?r.length/6:3,letter:e,pixels:r}}).reduce(function(e,t,r){var o=e[r-1],a=o?o.width+1+o.xOffset:0,f=o?o.yOffset:0;return[].concat(i(e),[n({},t,{xOffset:a,yOffset:f})])},[]).filter(function(e){return e.pixels}).forEach(function(e){var t=e.pixels,r=e.xOffset,n=e.yOffset,i=e.width,f=c.getImageData(o+r,a+n,i,6),u=f.data;t.map(function(e,t){return{pixel:e,pixelIndex:t}}).filter(function(e){return e.pixel}).forEach(function(e){var t=4*e.pixelIndex;u[t+0]=l[0],u[t+1]=l[1],u[t+2]=l[2],u[t+3]=255}),c.putImageData(f,o+r,a+n)})},l=c;exports.default=l;
},{"./colors.js":"CE5M","./alphabet.js":"HEkL"}],"Aq1e":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.camera=u,exports.setPixel=c,exports.sprite=d,exports.print=h,exports.clear=v;var e=a(require("lodash/clamp")),t=a(require("lodash/isNil")),r=a(require("./colors")),l=a(require("./sprites")),o=a(require("./print"));function a(e){return e&&e.__esModule?e:{default:e}}var i=document.getElementById("game"),f=i.getContext("2d");i.focus();var n=0,s=0;function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;n=Math.floor(e),s=Math.floor(t),f.setTransform(1,0,0,1,0,0),f.translate(-n,-s)}function c(e,t){var l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;f.fillStyle=r.default.rgb(l),f.fillRect(Math.floor(e),Math.floor(t),1,1)}function d(t,o,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,u=arguments.length>4&&void 0!==arguments[4]&&arguments[4],c=arguments.length>5&&void 0!==arguments[5]&&arguments[5];t<n-8||t>n+128||o<s-8||o>s+128||l.default[a]&&l.default[a].slice(0,8).forEach(function(l,a){l.split("").forEach(function(l,n){if(" "!==l){var s=(0,e.default)(+l-i,0,7);f.fillStyle=r.default.rgb(s),f.fillRect(Math.floor(t)+(u?7-n:n),Math.floor(o)+(c?7-a:a),1,1)}})})}function h(e,t,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,a=t-s;a<-8||a>128||(0,o.default)({x:e-n,y:a,letters:r,c:l,ctx:f})}function v(e){f.save(),f.setTransform(1,0,0,1,0,0),(0,t.default)(e)?f.clearRect(0,0,128,128):(f.fillStyle=r.default.rgb(e),f.fillRect(0,0,128,128)),f.restore()}
},{"lodash/clamp":"Jqm6","lodash/isNil":"gGJU","./colors":"CE5M","./sprites":"cSDk","./print":"OEhm"}],"B2zG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updateTerrain=i,exports.terrainAt=u,exports.setTerrainAt=h,exports.colorAt=l,exports.cutTerrain=s,exports.drawTerrain=v;var r=require("../canvasApi"),t=100,o=128,a=70,n=0,e={};function f(){for(var r=[],o=[],a=0;a<100;a++){for(var n=[],e=0;e<128;e++)n.push(!0);r.push(n)}for(var f=0;f<10;f++)100*Math.random()<40&&o.push({x:128*Math.random(),y:Math.random()*t,r:5*Math.random(),c:Math.floor(3*Math.random())+4});return r.stones=o,r}function i(r){for(var o=Math.floor(r/t)-1,a=o+5,i=o;i<a;i++)e[i]||(e[i]=f(),n<i&&(n=i))}function u(r,o){if(o<a)return!1;var f=Math.floor(o/t),i=e[f];return!(!i||f==n)&&i[o-f*t][r]}function h(r,o,a){var n=Math.floor(o/t),f=e[n];if(f){var i=f[o-n*t];r>=0&&r<i.length&&(i[r]=a)}}function l(r,o){var a=Math.floor(o/t),n=e[a],f=o-a*t;if(!n)return 7;var i=!0,h=!1,l=void 0;try{for(var s,v=n.stones[Symbol.iterator]();!(i=(s=v.next()).done);i=!0){var M=s.value,c=M.x-r,p=M.y-f;if(Math.sqrt(c*c+p*p)<M.r)return M.c}}catch(d){h=!0,l=d}finally{try{i||null==v.return||v.return()}finally{if(h)throw l}}var x=1;return u(r,o-1)?u(r,o+1)||(x+=1):x-=1,x}function s(r,t,o){for(var a=Math.floor(r-o);a<=r+o;a++)for(var n=Math.floor(t-o);n<=t+o;n++){var e=a-r,f=n-t;Math.floor(Math.sqrt(e*e+f*f))>o||h(a,n,!1)}}function v(t){for(var a=Math.max(0,Math.floor(t)),n=Math.floor(t+128),e=a;e<n;e++)for(var f=0;f<o-1;f++)u(f,e)&&(0,r.setPixel)(f,e,l(f,e))}
},{"../canvasApi":"Aq1e"}],"GWfM":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.handleInput=t;var e=require("./terrain"),r=.05,i=.01,o=2;function t(t,u,n){var p=u.grounded?r:i;t.left&&(u.position.x-=p),t.right&&(u.position.x+=p),u.grounded&&(u.jumpReady=!0),t.upPressed&&u.jumpReady&&(u.previous.y+=o,u.jumpReady=!1),t.a&&(0,e.cutTerrain)(u.position.x,u.position.y,30)}
},{"./terrain":"B2zG"}],"R5G1":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.updatePhysicsObjects=n,exports.handleTerrainCollisions=s,exports.updateCamera=p,exports.updateScore=u;var r=require("./terrain"),o=.07,i=.8,a=.2,t=5,e=.99;function n(r){var i=!0,a=!1,n=void 0;try{for(var s,p=r[Symbol.iterator]();!(i=(s=p.next()).done);i=!0){var u=s.value,l=u.position.x-u.previous.x,y=u.position.y-u.previous.y,v=Math.sqrt(l*l+y*y);v>t?(l=l*t/v,y=y*t/v):u.grounded&&(l*=e,y*=e),u.previous.x=u.position.x,u.previous.y=u.position.y,y+=o,u.position.x+=l,u.position.y+=y,u.position.x-u.radius<0&&(u.position.x=u.radius),u.position.x+u.radius>128&&(u.position.x=128-u.radius)}}catch(_){a=!0,n=_}finally{try{i||null==p.return||p.return()}finally{if(a)throw n}}var d=!0,f=!1,c=void 0;try{for(var x,m=r[Symbol.iterator]();!(d=(x=m.next()).done);d=!0){var h=x.value,Y=!0,M=!1,C=void 0;try{for(var b,g=r[Symbol.iterator]();!(Y=(b=g.next()).done);Y=!0){var S=b.value;if(h!=S){var q=h.position.x-S.position.x,w=h.position.y-S.position.y,P=Math.sqrt(q*q+w*w);if(P<h.radius+S.radius){w<0?h.grounded=!0:S.grounded=!0;var j=h.radius+S.radius-P,I=q/P,O=w/P;h.position.x+=I*j/2,h.position.y+=O*j/2,S.position.x-=I*j/2,S.position.y-=O*j/2}}}}catch(_){M=!0,C=_}finally{try{Y||null==g.return||g.return()}finally{if(M)throw C}}}}catch(_){f=!0,c=_}finally{try{d||null==m.return||m.return()}finally{if(f)throw c}}}function s(o,i){for(var a=0;a<5;a++){var t=!0,e=!1,n=void 0;try{for(var s,p=i[Symbol.iterator]();!(t=(s=p.next()).done);t=!0){for(var u=s.value,l=0,y=0,v=0,d=0;d<2*Math.PI;d+=Math.PI/8){var f=Math.cos(d)*u.radius,c=Math.sin(d)*u.radius,x=Math.floor(u.position.x+f),m=Math.floor(u.position.y+c);(0,r.terrainAt)(x,m,o)&&(c>3&&(u.grounded=!0),l+=f,y+=c,v++)}if(0!=v){var h=l/v,Y=y/v,M=Math.sqrt(h*h+Y*Y),C=h/M,b=Y/M,g=u.radius-M;u.position.x-=C*g*.3,u.position.y-=b*g*.3}else u.grounded=!1}}catch(S){e=!0,n=S}finally{try{t||null==p.return||p.return()}finally{if(e)throw n}}}}function p(r){if(r.previousCameraY){var o=r.cameraY-r.previousCameraY;r.previousCameraY=r.cameraY,r.cameraY+=o*i}if(r.player.position.y>r.cameraY+96){var t=r.player.position.y-(r.cameraY+96);r.cameraY+=t*a}if(r.player.position.y<r.cameraY+32){var e=r.player.position.y-(r.cameraY+32);r.cameraY+=.2*e}r.previousCameraY||(r.previousCameraY=r.cameraY)}function u(r){r.player.position.y>r.score&&(r.score=r.player.position.y)}
},{"./terrain":"B2zG"}],"EvRG":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.drawPhysicsObjects=e,exports.drawScoreMarker=i,exports.drawInstructions=o,exports.drawScore=a;var r=require("../canvasApi"),t=require("./utils");function e(t){var e=!0,i=!1,o=void 0;try{for(var a,n=t[Symbol.iterator]();!(e=(a=n.next()).done);e=!0){var s=a.value;(0,r.sprite)(s.position.x-s.radius,s.position.y-s.radius,s.sprite)}}catch(u){i=!0,o=u}finally{try{e||null==n.return||n.return()}finally{if(i)throw o}}}function i(t){var e=t.score;(0,r.sprite)(0,e,1),(0,r.sprite)(120,e,1,0,!0)}function o(){(0,r.print)(5,5,"left/right to move"),(0,r.print)(5,13,"up to jump")}function a(t){t.cameraY;var e=t.score;(0,r.camera)();var i=Math.max(e-68,0).toString();i.length>5&&(i=i.substring(0,5)),(0,r.print)(5,120,i,6)}
},{"../canvasApi":"Aq1e","./utils":"IZP3"}],"CQ9A":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.newExplosion=t,exports.updateExplosions=a,exports.drawExplosions=n;var r=require("../canvasApi"),e=30,o=2,s=[];function t(r,o){s.push({x:r,y:o,r:e,c:0,delay:5})}function a(){for(var r=[],e=0;e<s.length;e++){var t=s[e];if(t.delay>0)t.delay--,r.push(t);else{if(7==t.c)continue;r.push(t),t.c+=1,t.r*=.8,t.delay=o}}s=r}function n(){for(var e=0;e<s.length;e++)for(var o=s[e],t=o.x-o.r;t<o.x+o.r;t++)for(var a=o.y-o.r;a<o.y+o.r;a++){var n=t-o.x,i=a-o.y;Math.sqrt(n*n+i*i)<=o.r&&(0,r.setPixel)(t,a,o.c)}}
},{"../canvasApi":"Aq1e"}],"BOPA":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.spawnBombs=a,exports.updateBombs=u;var e=require("./utils"),t=require("./terrain"),r=require("./explosion"),o=100,i=.75,n=30,s=50;function a(t){var r=t.player,o=t.bombs,i=t.score;100*Math.random()<=i/400+.5&&o.push((0,e.createPhysicsObject)(112*Math.random()+8,r.position.y-300,2))}function u(i){var a=[],u=[],l=!0,p=!1,f=void 0;try{for(var y,c=i.bombs[Symbol.iterator]();!(l=(y=c.next()).done);l=!0){var v=y.value;if(null!=v.timeLeft){if(v.sprite=2,v.timeLeft-=1,v.timeLeft<=0){if(v.fuze=.75*v.fuze,v.fuze<1&&v.grounded){a.push(v);continue}v.timeLeft=v.fuze,v.sprite=3}}else v.grounded&&(v.timeLeft=o,v.fuze=o);u.push(v)}}catch(P){p=!0,f=P}finally{try{l||null==c.return||c.return()}finally{if(p)throw f}}i.bombs=u;for(var d=(0,e.getPhysicsObjects)(i),m=0;m<a.length;m++){var b=a[m];(0,t.cutTerrain)(b.position.x,b.position.y,n,i.terrain),(0,r.newExplosion)(b.position.x,b.position.y);var h=!0,x=!1,z=void 0;try{for(var L,g=d[Symbol.iterator]();!(h=(L=g.next()).done);h=!0){var q=L.value,w=q.position.x-b.position.x,M=q.position.y-b.position.y,j=Math.sqrt(w*w+M*M);q==i.player&&j<.75*n&&location.reload();var O=j*j;q.position.x+=w*s/O,q.position.y+=M*s/O}}catch(P){x=!0,z=P}finally{try{h||null==g.return||g.return()}finally{if(x)throw z}}}}
},{"./utils":"IZP3","./terrain":"B2zG","./explosion":"CQ9A"}],"5riJ":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.update=u,exports.draw=d,exports.initialState=void 0;var e=require("./utils"),r=require("../canvasApi"),t=require("./input"),a=c(require("./update")),i=c(require("./draw")),s=require("./terrain"),o=c(require("./bombs")),n=require("./explosion");function c(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){var a=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,t):{};a.get||a.set?Object.defineProperty(r,t,a):r[t]=e[t]}return r.default=e,r}var p={player:(0,e.createPhysicsObject)(20,20,0),bombs:[],explosions:[],cameraY:0,score:0};function u(r,i){var c=(0,e.getPhysicsObjects)(r);(0,s.updateTerrain)(r.cameraY),a.updatePhysicsObjects(c),a.handleTerrainCollisions(r.terrain,c),a.updateCamera(r),a.updateScore(r),(0,n.updateExplosions)(),(0,t.handleInput)(i,r.player,r.terrain),o.spawnBombs(r),o.updateBombs(r)}function d(t){var a=(0,e.getPhysicsObjects)(t);(0,r.clear)(),(0,r.camera)(0,Math.floor(t.cameraY)),(0,s.drawTerrain)(t.cameraY),i.drawPhysicsObjects(a),i.drawScoreMarker(t),i.drawInstructions(t),(0,n.drawExplosions)(),i.drawScore(t)}exports.initialState=p;
},{"./utils":"IZP3","../canvasApi":"Aq1e","./input":"GWfM","./update":"R5G1","./draw":"EvRG","./terrain":"B2zG","./bombs":"BOPA","./explosion":"CQ9A"}],"Focm":[function(require,module,exports) {
"use strict";var e=require("fs"),r=require("./game/game"),t=new Set;document.addEventListener("keydown",function(e){t.add(e.key),e.preventDefault()}),document.addEventListener("keyup",function(e){t.delete(e.key),e.preventDefault()});var n={},a=r.initialState;function i(){var e={},d={up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",left:"ArrowLeft",a:"a",b:"b"};for(var o in d)e[o]=t.has(d[o]),e[o+"Pressed"]=e[o]&&!n[o],e[o+"Released"]=!e[o]&&n[o];n=e,(0,r.update)(a,e),(0,r.draw)(a),requestAnimationFrame(i)}requestAnimationFrame(i);
},{"fs":"yclZ","./game/game":"5riJ"}]},{},["Focm"], null)
//# sourceMappingURL=src.b10bddd3.map